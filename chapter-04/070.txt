# 070 - hacker.struggle();

　「ナンセンス！」と連呼するエルフの男性を放置して、治療マギサービスのマギデバイスの様子を確認する。といっても、外見は何ら変わったところはない。マギデバイスは全てが「|複製《クローン》」であるため、黒い棒のような同じ見た目をしている。ボスの話によれば白いマギデバイスも存在するらしいが。

「やっぱり《《中に入って》》みないとわからないか」

　いつもの癖で独り言がでてきた。『中に入る』というのは一種の専門用語であり、コンピュータにログインする事をいう。コンピュータを起動する事を『立ちあげる』と言ったり、電源を切る事を『落とす』と言ったり、エルフ族の男性ではないがエンジニアの専門用語もなかなか独特である。
　さらに、プログラム内で処理を止める事を『殺す』と表現したり、処理が止まった事を『死んだ』と表現したりと物騒な専門用語もあり、携帯電話で『死んだ？　それならもう一回|走らせて《動かして》みて。暴走するようなら殺していいから』などと受け答えすると、周囲からものすごい視線を浴びる事になる。

　マギデバイスの場合はログインではなく、スクリーン経由で内部の様子を調べる事を言っている。マギサービスのコードを調べるのはもちろんだが、まともなシステムなら動作を確認するための|記録《ログ》を残しているはずである。
　ちなみに、利用料のために同様に記録されるべき利用回数は、国営のマギサービス登録所でまとめて計測されている。登録の際に登録所から提供されるコードを組み込む事になっており、そのコードが呼びだされた回数に応じて利用料が計算されるようになっているのだ。なかなか洗練された仕組みで感心した。

　とにかく、中を見てみないことには何もわからない。

「シスター。このマギデバイスの所有者として登録されている人は誰かいますか？　マギデバイスの中身を確認したいのですが……」
「はい。マギサービスの管理作業を担当するマギエンジニアであれば、基本的に登録されております。どなたか、シライシさんにマギデバイスの中身を見せてあげてください」
「は、はい」

　この場には教会に所属していると思われるマギエンジニアも複数いた。シスターが命じると、周囲で様子を見ていたマギエンジニアが踏み出してくる。
　以前起きた事件でも同様にマギデバイスの開示が問題となった事があった。あの時は、開くのに所有者の過半数の同意が必要となる『秘匿領域』という機能が使われていたが、今回はそのような事はない。『秘匿領域』機能は、あの事件の場となったマギエクスプレス社の社内で発見されて利用されていたもので、他のマギサービス企業には知られていないからだ。僕は知識として共有すべきだと思うのだが。

　マギエンジニアといっても、普段は定型的な管理作業しかやっていないのだろう。手を震わせながら、恐る恐るといった感じでマギデバイスに触れて「【ファイル・オープン】」と唱えると、マギデバイス内に保存されていたコードがスクリーンで開かれる。

「ありがとうございます」
「い、いえ……よろしくお願いします」

　お礼を言ったら、マギエンジニアの彼は僕に任せて道を開けてくれた。彼だってマギエンジニアを名乗っている以上、マギランゲージの扱いには心得があるはずだ。素直に明け渡してくれたのは少し意外だった。それだけ信用されていると思うと、プレッシャーがかかってくる。

「私からも、お願いいたします。私達をお救いください」

　シスターも相変わらず手を組みながら言った。普段から行なっているせいか祈りの所作が非常に洗練されていて堂に入っており、まるで神様にでもなった気分だ。

「師匠、私もお手伝いします！」

　パールも腕まくりをしてやる気だ。二人で分担して問題となっている箇所を探せば効率は段違いだ。彼女はまだ学生とはいえ、マギランゲージの読解力はすでに十分な実力を持っている。
　僕とパールは周囲から期待の視線を浴びながら、コードの世界へと飛び込んだ。

//----

「師匠、どこから手をつけますか？」
「そうだね、まずは|ログ《記録》がないか調べてみよう。停止した時間に何があったのかわかるかもしれない」
「わかりました！」

　ちゃんと記録を残していればいいのだが。マギサービスがなぜ停止したのかわからないが、もしそれが『想定された異常』であれば、そうとわかるような記録を残しているかもしれない。
　『異常』なのに想定も何もあるものか、と言われる事もあるのだが、あるのだ。想定している異常は『プログラムの仕様』であり、想定していない異常は『プログラムのバグ』なのである。

　例えば、ハードディスクが故障して突如として書き込みができなくなっても、それが『想定された異常』であればユーザーに『書き込みができなかった』と伝えるなり、書き込みできなかったとログを残すなりできる。異常によって実行を継続できないのであれば、プログラムを安全に停止する事もできる。
　しかし、これが『想定されていない異常』であれば、プログラムは突如として停止してしまう事になる。ユーザーは『例外が発生しました』という意味不明なエラーを目にする事になるのだ。

「ダメです……見つかりません……」
「うーん、ログはないか……」

　予想していた中では、かなり辛い展開だ。一体このシステムの管理者は、どうやってシステムの管理をしていたんだろう？
　こうなるとコードを探って停止した原因を特定するしかない。マギシステムはコンピュータのように再起動もできるのだが、どうも停止した原因は再起動しても直らないらしい。原因を特定して取り除かないことには動きそうにない。

「仕方ない。二人で手分けしてコードを読んでみよう」
「はいっ！」

　他人が書いたコードを読むには色々とやり方がある。大まかにわけるなら、まず全体像をつかんで、入り口から徐々に興味に近い処理を追いかけていくトップダウンの方法と、最初から興味に近そうな部分を深掘りして、そこから関連するコードを徐々に読んでいくボトムアップの方法がある。
　プログラムの組み方はある程度パターンが決まっているため、経験があれば全体の大まかな構造をつかむのはそう難しくない。
　しかし……。

「これはまた……」
「な、なんですか、このコードは……」

　僕達の目の前には巨大な、果てしなく巨大なコードが鎮座していた。

　水生成のコードが四千行あると聞いた時は驚いたものだったが、この治療マギサービスのコードはその比ではない。
　前者が改築に改築を重ねて「幽霊屋敷」とまで呼ばれたアメリカのミステリーハウスだとすれば、こちらは無計画に増築を重ねた結果「一回入ると出てこられない」とまで言われた、香港の九龍城砦跡地のスラム街のようなものだった。巨大なソースコードが複雑に入り組んで混沌としている。
　いくら経験があると言っても、このような複雑怪奇なコードベースを前にして「パターン」がどうとか通用するはずがない。

「と、とにかく、まずは全体構造の把握から始めよう」
「は、はい……」

　今回の戦いは、厳しい物になりそうだった。

//----

　僕達がコードと格闘している一方で、僕達の背後では相変わらずエルフの男性が騒いでいた。

「いいや、弊社は降りさせて頂く！　そもそも、このような|シチュエーション《事態》の解決は契約の範囲外のはずだ！　どうやら御社はあそこの得体の知れない男とビジネスをされるようだしね！」
「で、ですが、治療マギサービスの刷新は契約に含まれているはずです。ここで契約を放棄してもらっては困りますよ！」
「先に契約外の労働を求めたのは御社の方だろう！」

　エルフの男はどうやら今回の事態を契約範囲外だと主張し、契約の打ち切りを求めているらしい。言い分はわかるが、今回の事態はマギスター社が関与している可能性がある。それを一切無視して契約を打ち切るというのは、いささか無責任と言われても仕方がないだろう。

　僕は背後の喧騒を耳にしながら、コードの探索を進めていた。いつもと違って自分でコードを書いているわけではないので、いまいち集中力がフルに発揮できていない。

「わかりました。契約を打ち切って頂いて構いません」
「シスター！？」

　それまでじっと話を聞いていたらしいシスター・エイダが、一転して男の訴えを認めると、それまで抗議していた教会関係者達は驚きの声をあげる。

「ただし、違約金は支払って頂きます」
「ホワット！？　ナンセンスですね！　本来なら御社が支払うべきでしょう！　それを今回はお互いフィフティ・フィフティという扱いにしてあげましょうと言っているんですよ！　全く、ビジネスの常識が通用しない素人はこれだから！」

　男が苛立たしげに地団駄を踏む音が聞こえてくる。厳密に言えば今回の件がどちらに責任があるかなど、まだわからないはずだ。男はなぜか教会側に過失があったかのように言っているが。

「そもそも、私はあなた方にお任せするのは最初から不安だったのです。あなたの提案内容を聞いた時も、難解な言葉ばかり用いて素人を煙に巻こうという意図が透けて見えていましたから」
「ハッ！　あの至高のプレゼンを理解できないとは！　全く、見識を疑いますね！」
「少なくとも、あなたの薄っぺらな言葉を理解できる見識は持ちあわせておりません」

　なぜかシスターも喧嘩腰で応じている。おっとりとしたマイペースの人だと思っていたが、言うべきことはハッキリと言うタイプの人でもあるらしい。

「くだらない！　私はこれで失礼させて頂く！　後で正式にクレームを入れるから覚悟しておくことです！」
「どうぞ、お好きになさってください」

　そしてエルフの男の苛立たしげな足音が遠ざかっていった。

「よ、よろしかったのでしょうか、シスター。投票で選ばれたマギスター社が本当に契約を打ち切ってしまうとなれば、シスターご自身の責任問題になる可能性も……」
「構いません。私は今回の事態で痛感したのです。治療マギサービスとは人々の生活を根本で支えているもの。決して不安要素を抱えたままで手を入れるなど許される事ではなかったのです」

　そしてシスターの声が一拍途切れる。

「シライシさん達をご覧なさい。彼らは本来、私達からの求めに応じる必要などなかったのです。それが、あそこまで必死になって問題の原因を探しています。それを見て何とも思わない方々に、大事なお仕事をお任せする事などできません」

　シスターの言葉で、周囲の関係者達に沈黙が降りる。その中にはトラブルを目の前に何もできなかったマギエンジニア達も含まれているはずだ。

「彼らが電話マギサービスを安価で提供したことで、人々は私達の提供する治療マギサービスに疑問を持つようになっています。私自身、高い利用料を人々から徴収する事をそこまで疑問に思っていたわけではありませんでした。貧しい者は治療マギサービスを利用できないのが当たり前だと考えてしまっていたのです。常識とは実に恐ろしいものです」

　貧富の差で受けられるサービスが変わるのは、ある意味で常識的な事だ。長い距離を移動するのに、車で行くか、電車で行くか、飛行機のファーストクラスで行くか、貧富によって選択肢が制限されるのと同じように。
　この国の場合、その差がマギサービスを利用できるかできないか、という形で現れていただけではある。徒歩か飛行機か、という極端な選択肢しか用意されていなかったというわけだ。僕達はそこに「自転車」や「自家用車」を提供したようなものなのだ。

　確かにシスターの言うように、電話マギサービスの登場まで「企業の運営するマギサービスは高額」というのが常識だった。僕達が宣伝する時も一番の障害となったのは「どうせ高いんだろう」という人々の思い込みである。

「その事に気がついた私は、利用料を下げるよう教会内で声を上げようと考えました。しかし、高かった利用料を急に下げるとなれば、今までの高い利用料はなんだったのかと言われる事になります」

　シスターは独特のペースで独白を続けている。

「今まで私自身、マギサービスの利益を享受して、そのお金で信者たちを癒やしてきました。しかしそれは、大いなる偽善にほかならなかったのです。そしてその事を糾弾され、今までの名声を失う事を、私は……恐れた。恐れてしまったのです」

　それはさながら、神に赦しを求める告解のようだった。

「ああ、神よ。罪深い私をお許し下さい。この期に及んで、私はまだ恐れています。皆に後ろ指をさされる事を。人々の幸福よりも、自分の罪を隠す事を考えています……。私は、私は、人々に教えを説く資格など、ありはしないのです」

　僕はシスターの告白を聞いて、手を止めずにはいられなかった。
　先ほど僕はシスターに詰問するように質問を浴びせたが、別にシスターを責めるつもりなど欠片もなかった。しかし、シスターにとっては自分の罪に対する糾弾のように感じられたはずだ。
　シスターほどの無私の人が、内側にそのような葛藤を抱えているなど、想像もしていなかった。

　しかし僕が声を掛けようとすると、先にシスターに声を掛ける存在がいた。その声の持ち主はどうやら部屋の外でシスターの独白を聞いていたらしく、扉を開いて入ってくるなりシスターに声を掛ける。

「いいじゃありませんか。自身の幸福を追求する事。それもまた、人のあるべき姿です」
「……教皇、様……」

　王様の次は教皇様だ。どうやら僕は偉い人にとことん縁があるらしい。
